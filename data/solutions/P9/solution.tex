% ANNAFORCES - Solution Template for Problem P9 (Find Divisors)
% Save as: ANNAFORCES_P9_Solution.tex
\documentclass[11pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{amsmath,amssymb}
\usepackage{fancyhdr}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\geometry{margin=1in}
\pagestyle{fancy}
\fancyhf{}
\lhead{\textbf{ANNAFORCES}}
\rhead{Solution â€” P9}
\cfoot{\thepage}

% Listings setup for code blocks
\lstset{
  basicstyle=\ttfamily\small,
  breaklines=true,
  frame=single,
  numbers=left,
  numberstyle=\tiny,
  showstringspaces=false,
  tabsize=2
}

\begin{document}

\begin{center}
  {\LARGE \bf Solution: Find Divisors (P9)}\\[6pt]
  {\large \it ANNAFORCES}\
  \vspace{6pt}
\end{center}

\section*{Problem Description}
You are given a positive integer `n`.
Your task is to print all the **divisors** of `n` in **ascending order**.

\section*{Simple Answer}
The solution finds all divisors by iterating up to the square root of the given number `n`.

\section*{Detailed Explanation}
\subsection*{Approach}
The problem asks us to find all divisors of a given positive integer `n` and print them in ascending order.

A naive approach would be to iterate from 1 to `n` and check for divisibility at each step. However, with `n` up to 10^9, this would be too slow (O(n) complexity).

A more efficient approach is to iterate from 1 up to the square root of `n`. The key observation is that divisors come in pairs. If `i` is a divisor of `n`, then `n/i` is also a divisor.

\section*{Complexity}
\begin{itemize}[leftmargin=*]
  \item \textbf{Time Complexity:} $O(\sqrt{n})$
  \item \textbf{Space Complexity:} $O(\sqrt{n})$ to store the divisors.
\end{itemize}

\section*{Language-Specific Implementations}
Below are sample implementations in Python, C++, and C.

\subsection*{Python (solution.py)}
\begin{lstlisting}[language=Python]
import math
import sys

def solve():
    try:
        # Read the integer n
        n_str = sys.stdin.readline()
        if not n_str: return
        n = int(n_str)

        divisors = set()
        for i in range(1, int(math.sqrt(n)) + 1):
            if n % i == 0:
                divisors.add(i)
                divisors.add(n // i)
        
        sorted_divisors = sorted(list(divisors))
        print(*sorted_divisors)

    except (IOError, ValueError):
        return

solve()
\end{lstlisting}

\subsection*{C++ (solution.cpp)}
\begin{lstlisting}[language=C++]
#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>

int main() {
    std::ios_base::sync_with_stdio(false);
    std::cin.tie(NULL);
    int n;
    while (std::cin >> n) {
        std::vector<int> divisors;
        for (int i = 1; i * i <= n; ++i) {
            if (n % i == 0) {
                divisors.push_back(i);
                if (i * i != n) {
                    divisors.push_back(n / i);
                }
            }
        }
        std::sort(divisors.begin(), divisors.end());
        for (size_t i = 0; i < divisors.size(); ++i) {
            std::cout << divisors[i] << (i == divisors.size() - 1 ? "" : " ");
        }
        std::cout << "\n";
    }
    return 0;
}
\end{lstlisting}

\subsection*{C (solution.c)}
\begin{lstlisting}[language=C]
#include <stdio.h>
#include <stdlib.h>
#include <math.h>

int compare(const void *a, const void *b) {
    return (*(int *)a - *(int *)b);
}

int main() {
    int n;
    while (scanf("%d", &n) != EOF) {
        int *divisors = (int *)malloc(sizeof(int) * 2000);
        int count = 0;
        for (int i = 1; i * i <= n; ++i) {
            if (n % i == 0) {
                divisors[count++] = i;
                if (i * i != n) {
                    divisors[count++] = n / i;
                }
            }
        }
        qsort(divisors, count, sizeof(int), compare);
        for (int i = 0; i < count; ++i) {
            printf("%d%c", divisors[i], i == count - 1 ? '\0' : ' ');
        }
        printf("\n");
        free(divisors);
    }
    return 0;
}
\end{lstlisting}

\end{document}
